{"ast":null,"code":"var _jsxFileName = \"/Users/anishj29/Rememb-AR/backend/frontend/my-memory-ar-app/src/Components/CaretakerView.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CaretakerView({\n  mediaList,\n  onUpload\n}) {\n  _s();\n  const [file, setFile] = useState(null);\n  const [caption, setCaption] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [selectedMediaId, setSelectedMediaId] = useState(null);\n  const handleFileChange = e => {\n    if (e.target.files.length > 0) setFile(e.target.files[0]);\n  };\n  const handleUpload = async () => {\n    if (!file) return alert(\"Please select a file before uploading.\");\n    if (!caption.trim()) return alert(\"Please enter a caption.\");\n    setUploading(true);\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"caption\", caption);\n    try {\n      const res = await fetch(\"http://localhost:8000/upload_media\", {\n        method: \"POST\",\n        body: formData\n      });\n      if (!res.ok) throw new Error(\"Upload failed\");\n      const data = await res.json();\n      onUpload(data); // Notify parent of new media\n      setFile(null);\n      setCaption(\"\");\n      alert(\"Upload successful!\");\n    } catch (err) {\n      alert(\"Upload error: \" + err.message);\n    }\n    setUploading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Caretaker Upload & Memories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter caption\",\n        value: caption,\n        onChange: e => setCaption(e.target.value),\n        style: {\n          marginBottom: 8,\n          width: \"100%\",\n          padding: 8\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*,video/*\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        disabled: uploading || !file,\n        children: uploading ? \"Uploading…\" : \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Uploaded Memories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        overflowX: \"auto\",\n        paddingBottom: 10\n      },\n      children: [mediaList.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No memories uploaded yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 36\n      }, this), mediaList.map(media => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginRight: 10,\n          cursor: \"pointer\",\n          border: media.id === selectedMediaId ? \"3px solid #007bff\" : \"2px solid #ccc\",\n          borderRadius: 6,\n          boxShadow: media.id === selectedMediaId ? \"0 0 8px #007bff\" : \"none\",\n          padding: 4,\n          maxWidth: 110,\n          userSelect: \"none\"\n        },\n        onClick: () => setSelectedMediaId(media.id),\n        title: media.caption || media.filename,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: media.url,\n          alt: media.filename,\n          style: {\n            width: 100,\n            height: 100,\n            objectFit: \"cover\",\n            borderRadius: 4\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            whiteSpace: \"normal\",\n            wordWrap: \"break-word\",\n            fontSize: 12,\n            marginTop: 4,\n            height: 36,\n            overflow: \"hidden\",\n            textOverflow: \"ellipsis\"\n          },\n          children: media.caption || \"No caption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, media.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(CaretakerView, \"LrmJ/eclLUjPfVTzl/E/qpvXe0g=\");\n_c = CaretakerView;\nvar _c;\n$RefreshReg$(_c, \"CaretakerView\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","CaretakerView","mediaList","onUpload","_s","file","setFile","caption","setCaption","uploading","setUploading","selectedMediaId","setSelectedMediaId","handleFileChange","e","target","files","length","handleUpload","alert","trim","formData","FormData","append","res","fetch","method","body","ok","Error","data","json","err","message","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","type","placeholder","value","onChange","width","padding","accept","onClick","disabled","display","overflowX","paddingBottom","map","media","marginRight","cursor","border","id","borderRadius","boxShadow","maxWidth","userSelect","title","filename","src","url","alt","height","objectFit","whiteSpace","wordWrap","fontSize","marginTop","overflow","textOverflow","_c","$RefreshReg$"],"sources":["/Users/anishj29/Rememb-AR/backend/frontend/my-memory-ar-app/src/Components/CaretakerView.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport default function CaretakerView({ mediaList, onUpload }) {\n  const [file, setFile] = useState(null);\n  const [caption, setCaption] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [selectedMediaId, setSelectedMediaId] = useState(null);\n\n  const handleFileChange = (e) => {\n    if (e.target.files.length > 0) setFile(e.target.files[0]);\n  };\n\n  const handleUpload = async () => {\n    if (!file) return alert(\"Please select a file before uploading.\");\n    if (!caption.trim()) return alert(\"Please enter a caption.\");\n    setUploading(true);\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"caption\", caption);\n\n    try {\n      const res = await fetch(\"http://localhost:8000/upload_media\", {\n        method: \"POST\",\n        body: formData,\n      });\n      if (!res.ok) throw new Error(\"Upload failed\");\n      const data = await res.json();\n      onUpload(data); // Notify parent of new media\n      setFile(null);\n      setCaption(\"\");\n      alert(\"Upload successful!\");\n    } catch (err) {\n      alert(\"Upload error: \" + err.message);\n    }\n    setUploading(false);\n  };\n\n  return (\n    <div>\n      <h2>Caretaker Upload & Memories</h2>\n      <div style={{ marginBottom: 16 }}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter caption\"\n          value={caption}\n          onChange={(e) => setCaption(e.target.value)}\n          style={{ marginBottom: 8, width: \"100%\", padding: 8 }}\n        />\n        <input type=\"file\" accept=\"image/*,video/*\" onChange={handleFileChange} />\n        <button onClick={handleUpload} disabled={uploading || !file}>\n          {uploading ? \"Uploading…\" : \"Upload\"}\n        </button>\n      </div>\n\n      <h3>Uploaded Memories</h3>\n      <div style={{ display: \"flex\", overflowX: \"auto\", paddingBottom: 10 }}>\n        {mediaList.length === 0 && <p>No memories uploaded yet.</p>}\n        {mediaList.map((media) => (\n          <div\n            key={media.id}\n            style={{\n              marginRight: 10,\n              cursor: \"pointer\",\n              border: media.id === selectedMediaId ? \"3px solid #007bff\" : \"2px solid #ccc\",\n              borderRadius: 6,\n              boxShadow: media.id === selectedMediaId ? \"0 0 8px #007bff\" : \"none\",\n              padding: 4,\n              maxWidth: 110,\n              userSelect: \"none\",\n            }}\n            onClick={() => setSelectedMediaId(media.id)}\n            title={media.caption || media.filename}\n          >\n            <img\n              src={media.url}\n              alt={media.filename}\n              style={{ width: 100, height: 100, objectFit: \"cover\", borderRadius: 4 }}\n            />\n            <div\n              style={{\n                whiteSpace: \"normal\",\n                wordWrap: \"break-word\",\n                fontSize: 12,\n                marginTop: 4,\n                height: 36,\n                overflow: \"hidden\",\n                textOverflow: \"ellipsis\",\n              }}\n            >\n              {media.caption || \"No caption\"}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}